2025-09-25 16:12:48,852 - INFO - HTTP Request: GET https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?select=updated_at&id=eq.3 "HTTP/2 200 OK"
2025-09-25 16:12:48,859 - INFO - Clearing expired Wellington scraper lock
2025-09-25 16:12:48,927 - INFO - HTTP Request: PATCH https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?id=eq.3 "HTTP/2 200 OK"
2025-09-25 16:12:49,128 - INFO - HTTP Request: GET https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?select=updated_at&id=eq.3 "HTTP/2 200 OK"
2025-09-25 16:12:49,128 - INFO - Another Wellington scraper instance is already running. Skipping execution.
2025-09-25 16:12:49,175 - INFO - Another Wellington scraper instance is already running. Exiting.
2025-09-25 16:12:49,175 - INFO - Scraping process completed successfully
2025-09-25 16:14:27,024 - INFO - HTTP Request: PATCH https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?id=eq.3 "HTTP/2 200 OK"
2025-09-25 16:14:27,026 - INFO - Force cleared Wellington scraper lock
2025-09-25 16:14:27,244 - INFO - HTTP Request: GET https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?select=updated_at&id=eq.3 "HTTP/2 200 OK"
2025-09-25 16:14:27,539 - INFO - HTTP Request: PATCH https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?id=eq.3 "HTTP/2 200 OK"
2025-09-25 16:14:27,544 - INFO - Wellington scraper lock timestamp updated successfully.
2025-09-25 16:14:27,789 - INFO - HTTP Request: GET https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?select=%2A&limit=1 "HTTP/2 200 OK"
2025-09-25 16:14:27,794 - INFO - Scraping progress table already exists.
2025-09-25 16:14:28,074 - INFO - HTTP Request: GET https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?select=last_processed_id&id=eq.3 "HTTP/2 200 OK"
2025-09-25 16:14:28,076 - INFO - Resuming from page: 99
2025-09-25 16:14:28,091 - INFO - Starting Wellington property scraping process. Max runtime: 5.5 hours
2025-09-25 16:14:38,023 - INFO - No data to process. Stopping early.
2025-09-25 16:14:38,023 - ERROR - Error closing browser: Event loop is closed! Is Playwright already stopped?
2025-09-25 16:14:38,025 - ERROR - Error details: Traceback (most recent call last):
  File "E:\Next.js\realEstate\nzlouis-property-ai-engine\real_estate_wellington.py", line 447, in scrape_properties
    browser.close()
  File "C:\Users\Administrator\.pyenv\pyenv-win\versions\3.10.10\lib\site-packages\playwright\sync_api\_generated.py", line 14264, in close
    return mapping.from_maybe_impl(self._sync(self._impl_obj.close(reason=reason)))
  File "C:\Users\Administrator\.pyenv\pyenv-win\versions\3.10.10\lib\site-packages\playwright\_impl\_sync_base.py", line 104, in _sync
    raise Error("Event loop is closed! Is Playwright already stopped?")
playwright._impl._errors.Error: Event loop is closed! Is Playwright already stopped?

2025-09-25 16:14:38,025 - INFO - Scraping process completed successfully
2025-09-25 16:20:13,331 - INFO - HTTP Request: PATCH https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?id=eq.3 "HTTP/2 200 OK"
2025-09-25 16:20:13,383 - INFO - Force cleared Wellington scraper lock
2025-09-25 16:20:13,663 - INFO - HTTP Request: GET https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?select=updated_at&id=eq.3 "HTTP/2 200 OK"
2025-09-25 16:20:13,667 - ERROR - Error checking if Wellington scraper is already running: Invalid isoformat string: '2025-09-25T02:20:12.70208+00:00'
2025-09-25 16:20:13,670 - ERROR - Error details: Traceback (most recent call last):
  File "E:\Next.js\realEstate\nzlouis-property-ai-engine\real_estate_wellington.py", line 124, in is_already_running
    updated_at = datetime.fromisoformat(updated_at_str.replace('Z', '+00:00'))
ValueError: Invalid isoformat string: '2025-09-25T02:20:12.70208+00:00'

2025-09-25 16:20:13,965 - INFO - HTTP Request: PATCH https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?id=eq.3 "HTTP/2 200 OK"
2025-09-25 16:20:13,968 - INFO - Wellington scraper lock timestamp updated successfully.
2025-09-25 16:20:14,227 - INFO - HTTP Request: GET https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?select=%2A&limit=1 "HTTP/2 200 OK"
2025-09-25 16:20:14,229 - INFO - Scraping progress table already exists.
2025-09-25 16:20:14,448 - INFO - HTTP Request: GET https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?select=last_processed_id&id=eq.3 "HTTP/2 200 OK"
2025-09-25 16:20:14,457 - INFO - Resuming from page: 99
2025-09-25 16:20:14,457 - INFO - Starting Wellington property scraping process. Max runtime: 5.5 hours
2025-09-25 16:20:24,560 - INFO - No data to process. Stopping early.
2025-09-25 16:20:24,562 - INFO - Browser context closed automatically
2025-09-25 16:20:24,564 - INFO - Scraping process completed successfully
2025-09-25 16:21:08,785 - INFO - HTTP Request: PATCH https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?id=eq.3 "HTTP/2 200 OK"
2025-09-25 16:21:08,790 - INFO - Force cleared Wellington scraper lock
2025-09-25 16:21:09,073 - INFO - HTTP Request: GET https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?select=updated_at&id=eq.3 "HTTP/2 200 OK"
2025-09-25 16:21:09,368 - INFO - HTTP Request: PATCH https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?id=eq.3 "HTTP/2 200 OK"
2025-09-25 16:21:09,369 - INFO - Wellington scraper lock timestamp updated successfully.
2025-09-25 16:21:09,652 - INFO - HTTP Request: GET https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?select=%2A&limit=1 "HTTP/2 200 OK"
2025-09-25 16:21:09,655 - INFO - Scraping progress table already exists.
2025-09-25 16:21:09,940 - INFO - HTTP Request: GET https://uzsziqehmunidzzhoeij.supabase.co/rest/v1/scraping_progress?select=last_processed_id&id=eq.3 "HTTP/2 200 OK"
2025-09-25 16:21:09,944 - INFO - Resuming from page: 99
2025-09-25 16:21:09,946 - INFO - Starting Wellington property scraping process. Max runtime: 5.5 hours
2025-09-25 16:21:14,747 - INFO - No data to process. Stopping early.
2025-09-25 16:21:14,747 - INFO - Browser context closed automatically
2025-09-25 16:21:14,747 - INFO - Scraping process completed successfully
